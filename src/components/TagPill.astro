---
import { getTagSlug } from '@/utils/tag';

interface Props {
  tag: string;
  linked?: boolean;
}

const { tag, linked = true } = Astro.props;
const href = `/tags/${getTagSlug(tag)}`;
---

{linked ? (
  <a
    href={href}
    class="tag-pill"
  >
    {tag}
  </a>
) : (
  <span class="tag-pill">
    {tag}
  </span>
)}

<style>
  .tag-pill {
    display: inline-block;
    padding: 0.15rem 0.55rem;
    font-family: var(--font-mono);
    font-size: 0.65rem;
    font-weight: 500;
    letter-spacing: 0.05em;
    text-transform: lowercase;
    color: color-mix(in srgb, var(--color-accent-hover) 88%, var(--color-text));
    background: color-mix(in srgb, var(--color-bg-raised) 76%, var(--color-accent-muted));
    border: 1px solid var(--color-border-subtle);
    border-radius: 9999px;
    text-decoration: none;
    transition: background-color 0.15s, color 0.15s, border-color 0.15s;
    white-space: nowrap;
  }

  a.tag-pill:hover {
    background: color-mix(in srgb, var(--color-bg-raised) 62%, var(--color-accent-muted));
    color: var(--color-text);
    border-color: color-mix(in srgb, var(--color-border) 78%, var(--color-accent));
  }
</style>
